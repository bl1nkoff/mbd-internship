# Тестовое задание для стажёра команды Mobile BigData от Блинкова Сергея
## Задание
(Подробное задание лежит в /tasks pdf документами)  
Необходимо разработать сервис, который будет получать данные по уровню сигнала от пользователей и отображать в веб-приложении на карте в тайлах S2 уровня 15 две агрегатные метрики — средний уровень сигнала на тайл и количество уникальных пользователей в тайле.  

## Высокоуровневое описание реализации
Пути url/data ожидаем данные, в виде координат, user id и уровня сигнала. (Для скорости хендлера просто проверяем это на заданные условия, отправляем ответ, а вычисления клетки и запись в БД производим горутиной).  
По адресу /map доступна веб страница с картой и возможность изменения отображаемой метрики. При нажатии на кнопку "Обновить" отправляется запрос на /data, после ответа клетки отрисовываются на карте.  
API (/data), принимая данные, отдаёт информацию о клетках в данной области.  
Так же оставил автозаполнение случайными данными через страничку с картой - снизу кнопки запуска и остановки интервала с выводом в консоль. 

## Заполнение карты
Проект на гитхабе без БД, так что нужно предварительно немного их заполнить. Это можно сделать на /map. Ход заполнения отображается в консоли. После 5 ошибок интервал запросов автоматически выключается.

## Что получилось реализовать
* Приём данных заданной формы
```json
{
    "lat": 59.9355,
    "lon": 30.325623,
    "user_id": "98ea80cf-268a-474f-9ebb-5cc49b55365b",
    "signal": 20.68
}
```
* Отображение веб странички с картой
* Отображение тайлов на карте
* Изменение режима отображаемой метрики
* Вывод тайлов только в видимую область
* LvlDB
* Соблюдение заданных форматов данных
* Dockerfile (не совсем уверен)

## Что не получилось реализовать
* Реализация очереди запросов, для повышения скорости запросов в секунду

## Главная нереализованная проблема - запросы в минуту
С самого начала предположил, что запросы нужно отправлять в некую очередь, где потом уже своевременно обрабатывать их. Если не ошибаюсь с термином, то этим занимается диспатчер. Сторонняя библиотека так и не заработала нормально. Скорость чуть выше обычной. Закомментировал её использование, раз так просило задание, а особого результата это так и не дало.
